<html>
<head>
<title>Is Bobbie on a High Glucose Alert?</title>
<meta property="og:title" content="Is Bobbie on a High Glucose Alert?">
<meta property="og:site_name" content="eaic & BurritoSOFTWARE">
<meta property="og:url" content="https://isbobbieonahighglucosealert.burrito.software">
<meta property="og:type" content="product">
<style type="text/css">

    body {
      color: black;
      background-color: white;
      padding: 2rem;
      text-align: center;
    }
    
    p {
      display: inline-block;
      margin-top: 200px;
      font-weight: bold;
      font-size: 120pt;
      font-family: Arial, sans-serif;
      text-decoration: none;

      cursor: default;
    }
    
    @media (prefers-color-scheme: dark) {
      body {
        background-color: black;
        color: white;
      }
      p {
        color: white;
      }
    }
  </style>
<script>
// fetch https://isaacscout.herokuapp.com/api/v1/entries.json?count=1 and get the json without cors, if the sgv key is > 180, then set the text to "YES", otherwise "NO"
var xhr = new XMLHttpRequest();
xhr.open("GET", "https://isaacscout.herokuapp.com/api/v1/entries.json?count=1", true);
xhr.onload = function (e) {
  if (xhr.readyState === 4) {
    if (xhr.status === 200) {
      var response = JSON.parse(xhr.responseText);
      console.log("glucose level: " + response[0].sgv);
      if (response[0].sgv > 180) {
        document.getElementById("status").innerHTML = "YES";
      } else {
        document.getElementById("status").innerHTML = "NO";
      }
    } else {
      document.getElementById("status").innerHTML = "NO";
    }
  }
};
xhr.onerror = function (e) {
  document.getElementById("status").innerHTML = "NO";
};
xhr.send(null);
</script>
</head>
<body>
<p id="status"></p>
</body>
